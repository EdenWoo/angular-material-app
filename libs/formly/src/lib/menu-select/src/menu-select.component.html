<button
  color="{{ totalCheckedCount > 0 ? 'primary' : '' }}"
  mat-raised-button
  class="menuTrigger"
  #menuTrigger="matMenuTrigger"
  [matMenuTriggerFor]="menu"
>
  <div class="flex">
    <div class="flex mr-1">
      <mat-icon class="m-auto">filter_alt</mat-icon>
    </div>
    <span class="font-normal">{{ displayLabel$ | async }}</span>
    <div class="flex">
      <mat-icon class="m-auto">arrow_drop_down</mat-icon>
      <!--      <mat-icon class="m-auto">{{ menuTrigger.menuOpen ? "expand_less" : "expand_more" }}</mat-icon>-->
    </div>
  </div>
</button>

<mat-menu #menu="matMenu">
  <div
    (click)="$event.stopPropagation(); $event.preventDefault()"
    mat-menu-item
    [disableRipple]="true"
    class="flex flex-col mat-menu-item-no-ripple"
    *ngFor="let option of props.options"
  >
    <mat-checkbox
      [disableRipple]="true"
      color="primary"
      [checked]="option.checked"
      (click)="click($event, option)"
      class="mat-menu-item-checkbox"
    >
      {{ option.label }}
    </mat-checkbox>
  </div>
</mat-menu>
